<p>Видео-разбор подвига (решение смотреть только после своей попытки): <a href="https://youtu.be/2lnbu3n7Y_w" rel="noopener noreferrer nofollow">https://youtu.be/2lnbu3n7Y_w</a></p>

<p><strong>Большой подвиг 8.</strong> Вы начинаете разрабатывать игру "Сапер". Для этого вам нужно уметь представлять и управлять игровым полем. Будем полагать, что оно имеет размеры N x M клеток. Каждая клетка будет представлена объектом класса Cell и содержать либо число мин вокруг этой клетки, либо саму мину.</p>

<p style="text-align: center;"><img alt="" height="298" name="saper_pole.png" src="https://ucarecdn.com/d80778c6-b03e-451e-aa32-7ba65bcb644f/" width="340"></p>

<p>Для начала в программе объявите класс GamePole, который будет создавать и управлять игровым полем. Объект этого класса должен формироваться командой:</p>

<pre><code>pole = GamePole(N, M, total_mines)</code></pre>

<p>И, так как поле в игре одно, то нужно контролировать создание только одного объекта класса GamePole (используйте паттерн Singleton, о котором мы с вами говорили, когда рассматривали магический метод __new__()).</p>

<p>Объект pole должен иметь локальный приватный атрибут:</p>

<p>__pole_cells - двумерный (вложенный) кортеж, размерами N x M элементов (N строк и M столбцов), состоящий из объектов класса Cell.</p>

<p>Для доступа к этой коллекции объявите в классе GamePole объект-свойство (property):</p>

<p>pole - только для чтения (получения) ссылки на коллекцию __pole_cells.</p>

<p>Далее, в самом классе GamePole объявите следующие методы:</p>

<p><u>init_pole()</u> - для инициализации начального состояния игрового поля (расставляет мины и делает все клетки закрытыми);<br>
<u>open_cell(i, j)</u> - открывает ячейку с индексами (i, j); нумерация индексов начинается с нуля; метод меняет значение атрибута __is_open объекта Cell в ячейке (i, j) на True;<br>
<u>show_pole()</u> - отображает игровое поле в консоли (как именно сделать - на ваше усмотрение, этот метод - домашнее задание).</p>

<p>Расстановку мин выполняйте случайным образом по игровому полю (для этого удобно воспользоваться функцией randint модуля random). После расстановки всех total_mines мин, вычислите их количество вокруг остальных клеток (где нет мин). Область охвата - соседние (прилегающие) клетки (8 штук).</p>

<p>В методе open_cell() необходимо проверять корректность индексов (i, j). Если индексы указаны некорректно, то генерируется исключение командой:</p>

<pre><code>raise IndexError('некорректные индексы i, j клетки игрового поля')</code></pre>

<p>Следующий класс Cell описывает состояние одной ячейки игрового поля. Объекты этого класса создаются командой:</p>

<pre><code>cell = Cell()</code></pre>

<p>При этом в самом объекте создаются следующие локальные приватные свойства:</p>

<p>__is_mine - булево значение True/False; True - в клетке находится мина, False - мина отсутствует;<br>
__number - число мин вокруг клетки (целое число от 0 до 8);<br>
__is_open - флаг того, открыта клетка или закрыта: True - открыта; False - закрыта.</p>

<p>Для работы с этими приватными атрибутами объявите в классе Cell следующие объекты-свойства с именами:</p>

<p>is_mine - для записи и чтения информации из атрибута __is_mine;<br>
number - для записи и чтения информации из атрибута __number;<br>
is_open - для записи и чтения информации из атрибута __is_open.</p>

<p>В этих свойствах необходимо выполнять проверку на корректность переданных значений (либо булево значение True/False, либо целое число от 0 до 8). Если передаваемое значение некорректно, то генерировать исключение командой:</p>

<pre><code>raise ValueError("недопустимое значение атрибута")</code></pre>

<p>С объектами класса Cell должна работать функция:</p>

<pre><code>bool(cell)</code></pre>

<p>которая возвращает True, если клетка закрыта и False - если открыта.</p>

<p>Пример использования классов (эти строчки в программе писать не нужно):</p>

<pre><code>pole = GamePole(10, 20, 10)  # создается поле размерами 10x20 с общим числом мин 10
pole.init_pole()
if pole.pole[0][1]:
    pole.open_cell(0, 1)
if pole.pole[3][5]:
    pole.open_cell(3, 5)
pole.open_cell(30, 100)  # генерируется исключение IndexError
pole.show_pole()</code></pre>

<p>P.S. В программе на экран выводить ничего не нужно, только объявить классы.</p><br><br><font color="gray">Memory limit: 256 MB</font><br><font color="gray">Time limit: 15 seconds</font><br><br>