<p>Видео-разбор подвига (решение смотреть только после своей попытки): <a href="https://youtu.be/4SewG1p3f-s" rel="noopener noreferrer nofollow">https://youtu.be/4SewG1p3f-s</a></p>

<p><strong>Подвиг 4.</strong> Вам поручено разработать класс DatabaseConnection для управления подключением к базе данных. Объекты этого класса создаются командой:</p>

<pre><code>conn = DatabaseConnection()</code></pre>

<p>В самом классе необходимо объявить метод:</p>

<p>def connect(self, login, password): ...</p>

<p>для подключения к БД. В данной реализации этот метод должен устанавливать локальный атрибут _fl_connection_open в значение True:</p>

<pre><code>_fl_connection_open = True</code></pre>

<p>и генерировать исключение с помощью собственного класса <strong>ConnectionError</strong> унаследованного от базового класса Exception.</p>

<p>Также в классе DatabaseConnection должен быть метод:</p>

<p>def close(self): ...</p>

<p>для закрытия соединения. В этом методе нужно атрибут _fl_connection_open установить в значение False.</p>

<p>Метод close() необходимо вызывать всякий раз после завершения работы с БД, вне зависимости от того, произошли какие-либо исключения или нет.</p>

<p>Этот функционал (автоматическое закрытие соединения с БД) предполагается реализовывать посредством менеджера контекста с использованием класса DatabaseConnection следующим образом:</p>

<pre><code>with DatabaseConnection() as conn:
    # операторы менеджера контекста</code></pre>

<p>Пропишите дополнительно в классе DatabaseConnection необходимые магические методы для такого его использования совместно с оператором with.</p>

<p>P.S. В программе нужно объявить только класс. На экран ничего выводить не нужно.</p><br><br><font color="gray">Memory limit: 256 MB</font><br><font color="gray">Time limit: 15 seconds</font><br><br>